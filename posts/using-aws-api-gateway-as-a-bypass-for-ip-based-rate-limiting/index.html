<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Using AWS API Gateway as a bypass for IP based rate limiting" /><meta name="author" content="Odysseus" /><meta property="og:locale" content="en" /><meta name="description" content="This is how you can bypass any IP based rate limiting defenses in your red teaming/pentesting engagements: An AWS Free Tier account and an API Gateway HTTP Proxy" /><meta property="og:description" content="This is how you can bypass any IP based rate limiting defenses in your red teaming/pentesting engagements: An AWS Free Tier account and an API Gateway HTTP Proxy" /><link rel="canonical" href="https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/" /><meta property="og:url" content="https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/" /><meta property="og:site_name" content="Hacker Mindset" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-09-03T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Using AWS API Gateway as a bypass for IP based rate limiting" /><meta name="twitter:site" content="@ualvesdias" /><meta name="twitter:creator" content="@Odysseus" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Odysseus"},"dateModified":"2022-09-04T02:18:31+00:00","datePublished":"2022-09-03T00:00:00+00:00","description":"This is how you can bypass any IP based rate limiting defenses in your red teaming/pentesting engagements: An AWS Free Tier account and an API Gateway HTTP Proxy","headline":"Using AWS API Gateway as a bypass for IP based rate limiting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/"},"url":"https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/"}</script><title>Using AWS API Gateway as a bypass for IP based rate limiting | Hacker Mindset</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Hacker Mindset"><meta name="application-name" content="Hacker Mindset"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/main/assets/img/HAL9000.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hacker Mindset</a></div><div class="site-subtitle font-italic">Experiment. Fail. Learn. Hack. Repeat.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/ualvesdias" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/ualvesdias" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ulisses.alves','protonmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Using AWS API Gateway as a bypass for IP based rate limiting</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Using AWS API Gateway as a bypass for IP based rate limiting</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/ualvesdias">Odysseus</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1662163200" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-09-03 </em> </span> <span> Updated <em class="timeago" data-ts="1662257911" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-09-03 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1338 words"> <em>7 min</em> read</span></div></div></div><div class="post-content"><blockquote><p>This is how you can bypass any IP based rate limiting defenses in your red teaming/pentesting engagements: An AWS Free Tier account and an API Gateway HTTP Proxy</p></blockquote><h2 id="the-situation"><span class="mr-2">The situation</span><a href="#the-situation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Imagine you are performing a penetration testing and need to execute some kind of high traffic action such as, for example, a directory/file discovery on a web server. Sometimes this type of activity is not possible due to rate limiting defenses implemented, that is, you have some kind of protection that detects high traffic coming from a single IP and blocks this source from requesting resources from the web server for a period of time or, worst, puts the IP in a blacklist for good.</p><p>Here is a very simple diagram of the situation:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*V5L81j1iYC_VbQzC-OOexg.png" alt="High traffic being blocked by a rate limit protection" data-proofer-ignore></p><p>In this post we’ll see a tool that was recently introduced to me and we’ll see exactly what it does. But we’ll not dive into the tool. We’ll instead manually apply everything that it automates for us and why it bypasses the rate limiting protection. This is actually a post about one of the resources of the AWS API Gateway service.</p><h2 id="the-tool"><span class="mr-2">The tool</span><a href="#the-tool" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>On a recent engagement I decided to use a tool called <a href="https://medium.com/r/?url=https%3A%2F%2Fgithub.com%2Fustayready%2Ffireprox">fireprox</a>, introduced to me by my good friend <a href="https://medium.com/r/?url=https%3A%2F%2Fwww.linkedin.com%2Fin%2Fraphaelmota-cybersecurity%2F">Raphael Mota</a> in order to bypass this protection on the target server. <strong>Of course, all the credits for the tool and the use of the API Gateway Proxy resource for this propouse are in the github page of the tool. I just learned and decided to write a post about it.</strong></p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*dYA11YvpXAAy5gafpoaOFg.png" alt="The tool overview" data-proofer-ignore></p><p>What this tool does is to automate the process of creating an pass-through HTTP Proxy using AWS API Gateway service. The magic is that every request coming from this proxy has an unique IP address. You read it right! An unique IP address for every request! Well, that’s the solution to our situation. Let’s see this magic happening, but I’ll not cover how to create an AWS free tier account so the post doesn’t get too long.</p><p>The first thing we need to do is create a new user in the “Identity and Access Management (IAM)” AWS service:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*yMTIB1sD69G1rZR_HYZEdA.png" alt="Creating a new user in the AWS IAM" data-proofer-ignore></p><p>Let’s give this user a name and mark the “Programmatic access” checkbox:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*QZ3TiVBS0BJMZGio8EFWLw.png" alt="Setting up the new IAM user" data-proofer-ignore></p><p>Now let’s create a new group for this user. This is mandatory for the tool to work:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*-DEO-J7ILeIsklxpiup7fA.png" alt="Creating a new group in the IAM " data-proofer-ignore></p><p>Now we have to name the group and add the policy “AmazonAPIGatewayAdministrator” to it. This policy is needed so we can use this user’s credentials in the tool:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*v1-xGSGT8e9e3BIfwhtpmw.png" alt="Setting up the group and adding a policy to it" data-proofer-ignore></p><p>Check if everything is correct and create the new user:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*50T5Cyk2XEJM_6bV9vxrtA.png" alt="Overview of the new user" data-proofer-ignore></p><p>Now write down the ACCESS KEY and the SECRET ACCESS KEY because we’ll use them in our tool:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*6xHu7JzcRv3MRICWMkV-3g.png" alt="Access keys for the newly created user" data-proofer-ignore></p><p>Now that we have a user created, we can use the tool. After cloning the repository with <em>git clone</em> <a href="https://medium.com/r/?url=https%3A%2F%2Fgithub.com%2Fustayready%2Ffireprox"><em>https://github.com/ustayready/fireprox</em></a> and installing the dependencies with <em>python3 -m pip install -r requirements.txt</em>, we can see what it does:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*vf4JMUVFkC-Fz0idqn6G-g.png" alt="Help from fireprox" data-proofer-ignore></p><p>So, we can issue commands using the tool and we have to pass the user’s acecss keys:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainListing the API’s availablehttps://cdn-images-1.medium.com/max/800/1*Qo1FecFAIZ6BackATHERVw.png" alt="" data-proofer-ignore></p><p>So, we don’t have any API’s yet. Let’s create one. But first, we need a target. This target is a service where the proxy will send all the requests to. I’ll use a VPS of mine hosted by DigitalOcean. It will be a simple python web server:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainhtPython HTTP servertps://cdn-images-1.medium.com/max/800/1*_CMoAvayRLHrrmpF3F1uqw.png" alt="" data-proofer-ignore></p><p>Now we can create a proxy using fireprox that points to our web server:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainhtCreating a proxy using fireproxtps://cdn-images-1.medium.com/max/800/1*eDoKI8SqUAO4H_XkoOb62Q.png" alt="" data-proofer-ignore></p><p>So now, we can simply curl our newly created proxy and it will forward the request to our web server:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainReaching the destination server through the proxyhttps://cdn-images-1.medium.com/max/800/1*jXUEdW0R-TDViEtsOGbPpA.png" alt="" data-proofer-ignore></p><p>Looking the web server log we see the request. Note the source IP address:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainThe request comming from the proxyhttps://cdn-images-1.medium.com/max/800/1*CO6-wiP_Z_RysYVGCXO8gg.png" alt="" data-proofer-ignore></p><p>We can see that this is not my real IP address:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainhtMy real IP addresstps://cdn-images-1.medium.com/max/800/1*blr1wVY8MMCHOYLqnS_34A.png" alt="" data-proofer-ignore></p><p>In fact, let’s simulate a directory listing attack and see what happens:</p><p><img data-src="https://raw.githubusercontent.com/ualvesdias/ualvesdias.github.io/mainhtSimulating a directory listing bruteforce attacktps://cdn-images-1.medium.com/max/800/1*IRWPG1eMZuTAp-3bt6LVZA.png" alt="" data-proofer-ignore></p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*L0iGLSz9N-wLHvjrY2hIDg.png" alt="The result of the attack" data-proofer-ignore></p><p>See? One single IP address for every request! That’s awesome!!</p><p>However, as a very famous saying in my country goes: not everything in life are flowers. Let’s use another python webserver and issue a request again:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*QpMXlZ2R5uXTtVkwxzuHyw.png" alt="Real IP leaking through X-Forwarded-For HTTP header" data-proofer-ignore></p><p>Ah-há! There’s a catch. The real source IP address is put in the header “X-Forwarded-For” and it arrives at the target. So if the web server or web application running on this server looks for this header, we’re done.</p><p>To fix this, we can use a very neat resource provided to us by the API Gateway: a header mapping. Thanks to <a href="https://medium.com/r/?url=https%3A%2F%2Fgithub.com%2Ffreimer">Fred Reimer</a> for this awesome discovery!</p><p>Turns out that we can send a custom header with our request, because fireprox creates a mapping from the header “X-My-X-Forwarded-For” to “X-Forwarded-For”, so we can control its content. Let’s see:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*SV0lILAhC9aC1qBnPKNfKQ.png" alt="Sending a fake IP address" data-proofer-ignore></p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*Fm6jgdOlB7m5lKOSCml0_w.png" alt="FakeIP arriving at the destination server" data-proofer-ignore></p><p>Now, all we have to do is send one random IP address using this custom header and we’re done!</p><p>Now you must be asking yourself what’s in this “server.py” file that allows me to see the header. Let’s take a quick look:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*w3P2o-yHJA825BB4gXgKwg.png" alt="Simple Python HTTP server" data-proofer-ignore></p><p>This server simply uses the custom class “MyHandler” as base for actions based on the methods of the requests it gets. In this example, I only have actions for GET requests, jsut to make thing simple. we see that all it does is get the header i want and print it on the screen. The function “connection” serves the service and waits for incoming connections.</p><h2 id="under-thehood"><span class="mr-2">Under the hood</span><a href="#under-thehood" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Now that we know how the tool works, let’s see what it does with our AWS credentials. Let’s go to the API Gateway service and see what’s there:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*o0ZXkM9KtqOfHr2EcC7axw.png" alt="REST API created by fireprox" data-proofer-ignore></p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*wV40zXwYhV3KcJYHM5CMuQ.png" alt="API resource created by fireprox" data-proofer-ignore></p><p>As we can see above, fireprox creates a simple API structure. Let’s see the configs for this GET method:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*CsQO1tmAJhBAn769pFmIbw.png" alt="GET method structure" data-proofer-ignore></p><p>We can see a very clear structure: on the left, the client, in our case the curl command. On the far right, the target application on port 8585. In between, the proxy.</p><p>Now, notice that we have the “Method Request” and the “Integration Request” boxes. The first one is the request that comes from the client. See the “X-My-X-Forwarded-For” header? This box knows that this header will come within the request.</p><p>Also, we have the header “X-Forwarded-For” in the “Integration Request” box, that represents the request going from the proxy to the final destination. Let’s see how this header mapping works:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*bHx4_g3cIu_Ji77eGvwxZQ.png" alt="Header mapping" data-proofer-ignore></p><p>Clicking on the “Integration Request” box, we can see its details, which include HTTP headers. See that we have one entry for that and there’s a mapping going on: The contents of the “X-Forwarded-For” header comes from the contents of the header “X-My-X-Forwarded-For” header from the client request. That’s how we can change the header contents. </p><p>Now you must be wondering: but what if we simply delete this header entry? Let’s see:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*0uFX-qCwlopc9Snyey9O9A.png" alt="No headers in the “Integration Request” box" data-proofer-ignore></p><p>Issuing another request:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*QpteZjpxSTlctkwllxGPoA.png" alt="New request without the “X-Forwarded-For” header" data-proofer-ignore></p><p>See? Somehow the behavior is still the same. My real IP address continues to leak through the “X-Forwarded-For” header. Somehow we still have the mapping in place even after deleting the header. And if we also delete the custom header from the “Method Request” box, the result is the same. So we must use this custom header if we want to prevent our IP from leaking in the final request to the target application.</p><h2 id="simulating-requests-with-random-ip-addresses"><span class="mr-2">Simulating requests with random IP addresses</span><a href="#simulating-requests-with-random-ip-addresses" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>To conclude our journey, I’ll run a final attack simulation, but this time I’ll also simulate a server that permanently blocks IP addresses that send requests faster than 10 per second.</p><p>First, let’s create a very simple Python script that runs with threads and sends requests to our server:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*177b4B8BotXi-Pm9QPMtCw.png" alt="" data-proofer-ignore></p><p>Python script for simulating sending requests using multi threading</p><ol><li>The function <em>random_ip()</em> just returns a random valid IP address;<li>The function <em>send_request()</em> sends as many requests as the number passed in command line to the option “–requests”. It’s called once for every thread;<li>All threads are spawned, each one calling the function <em>send_request()</em> with the arguments <em>url, requests</em> and <em>delay.</em></ol><p>Now the target web server:</p><p>Soon… </p><h2 id="how-to-protect-your-application-against-this-type-ofattack"><span class="mr-2">How to protect your application against this type of attack? </span><a href="#how-to-protect-your-application-against-this-type-ofattack" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>Soon… </p><h2 id="final-thoughts"><span class="mr-2">Final thoughts</span><a href="#final-thoughts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>It’s needless to say that this is an amazing tool. And because I’m a little bit lazy, I’ll just paste the print for the credits:</p><p><img data-src="https://cdn-images-1.medium.com/max/800/1*C9Pehl7L3GTEl3mfq3Do3g.png" alt="Thanks to these people!" data-proofer-ignore></p><p>As a final thought, please, don’t use this method in places you don’t have permission to. You can violate the <a href="https://medium.com/r/?url=https%3A%2F%2Faws.amazon.com%2Faup%2F">AWS policy</a> and get yourself in big trouble.</p></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/infosec/" class="post-tag no-text-decoration" >infosec</a> <a href="/tags/pentesting/" class="post-tag no-text-decoration" >pentesting</a> <a href="/tags/web/" class="post-tag no-text-decoration" >web</a> <a href="/tags/rate-limiting/" class="post-tag no-text-decoration" >rate-limiting</a> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/api-gateway/" class="post-tag no-text-decoration" >api-gateway</a> <a href="/tags/cloud/" class="post-tag no-text-decoration" >cloud</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Using AWS API Gateway as a bypass for IP based rate limiting - Hacker Mindset&amp;url=https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Using AWS API Gateway as a bypass for IP based rate limiting - Hacker Mindset&amp;u=https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://hackermindset.me/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/&amp;text=Using AWS API Gateway as a bypass for IP based rate limiting - Hacker Mindset" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/white-box-penetration-testing-cheating-in-order-to-boost-impact-and-value/">White Box Penetration Testing: 'Cheating' in order to boost impact and value</a><li><a href="/posts/using-aws-api-gateway-as-a-bypass-for-ip-based-rate-limiting/">Using AWS API Gateway as a bypass for IP based rate limiting</a><li><a href="/posts/matchbox-machine-that-learns/">A Matchbox Machine that Learns</a><li><a href="/posts/bypassing-mobile-phone-number-verification/">Bypassing Phone Number Verification</a><li><a href="/posts/using-tmux-for-automating-interactive-reverse-shells/">Using tmux for automating interactive reverse shells</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pentest/">pentest</a> <a class="post-tag" href="/tags/infosec/">infosec</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/api-gateway/">api-gateway</a> <a class="post-tag" href="/tags/authorization/">authorization</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/burp-suite/">burp-suite</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/learning/">learning</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/credentials-validation/"><div class="card-body"> <em class="timeago small" data-ts="1524182400" > 2018-04-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Credentials validation without PoC</h3><div class="text-muted small"><p> I’ve found a flaw in one of the Check Point appliances. Because I want to register a CVE, I’m required to have a public PoC explaining the vuln. So, here it is… What I discovered? Basicaly I ...</p></div></div></a></div><div class="card"> <a href="/posts/bypassing-mobile-phone-number-verification/"><div class="card-body"> <em class="timeago small" data-ts="1556107200" > 2019-04-24 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bypassing Phone Number Verification</h3><div class="text-muted small"><p> In this post I’ll show you how I bypassed the phone number verification process in a website. I’m also going to explain why this was possible and what we can do to prevent this type of vulnerabi...</p></div></div></a></div><div class="card"> <a href="/posts/handling-short-expiration-time-of-authorization-tokens/"><div class="card-body"> <em class="timeago small" data-ts="1608595200" > 2020-12-22 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Handling Short Expiration Time of Authorization Tokens</h3><div class="text-muted small"><p> How not to waste precious time when testing a web applications or API’s with Burp Suite Introduction In my few years doing web/API pentesting, it was the first time I had to think about how...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/kaseya-supply-chain-attack/" class="btn btn-outline-primary" prompt="Older"><p>Kaseya Supply Chain Attack</p></a> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/ualvesdias">Odysseus</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pentest/">pentest</a> <a class="post-tag" href="/tags/infosec/">infosec</a> <a class="post-tag" href="/tags/web/">web</a> <a class="post-tag" href="/tags/api-gateway/">api-gateway</a> <a class="post-tag" href="/tags/authorization/">authorization</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/burp-suite/">burp-suite</a> <a class="post-tag" href="/tags/cloud/">cloud</a> <a class="post-tag" href="/tags/documentation/">documentation</a> <a class="post-tag" href="/tags/learning/">learning</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
